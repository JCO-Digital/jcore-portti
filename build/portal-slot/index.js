(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.i18n,n=window.wp.components,s=window.wp.data,l=window.wp.coreData,a=window.wp.serverSideRender;var i=t.n(a);const c=window.ReactJSXRuntime,p=JSON.parse('{"UU":"jco/portal-slot"}');(0,e.registerBlockType)(p.UU,{edit:function({attributes:t,setAttributes:e}){const{slotId:a,maxItems:p,rotate:d}=t,{terms:j,hasResolved:h}=(0,s.useSelect)(t=>{const{getEntityRecords:e,hasFinishedResolution:o}=t(l.store),r={per_page:-1};return{terms:e("taxonomy","jcore-portal-slot",r)||[],hasResolved:o("getEntityRecords",["taxonomy","jcore-portal-slot",r])}},[]),m=[{label:(0,r.__)("Select a slot...","jcore-portti"),value:""},...j.map(t=>({label:t.name,value:t.slug}))],_=(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.InspectorControls,{children:(0,c.jsxs)(n.PanelBody,{title:(0,r.__)("Settings","jcore-portti"),children:[(0,c.jsx)(n.SelectControl,{label:(0,r.__)("Portal Slot","jcore-portti"),value:a,options:m,onChange:t=>e({slotId:t}),help:(0,r.__)("Choose the slot location for this block.","jcore-portti")}),(0,c.jsx)(n.ExternalLink,{href:"/wp-admin/edit-tags.php?taxonomy=jcore-portal-slot&post_type=jcore-portal-content",children:(0,r.__)("Manage Portal Slots","jcore-portti")})]})}),(0,c.jsxs)(o.InspectorAdvancedControls,{children:[(0,c.jsx)(n.__experimentalNumberControl,{label:(0,r.__)("Max number of items","jcore-portti"),value:p,onChange:t=>e({maxItems:parseInt(t,10)||1}),min:1,help:(0,r.__)("Maximum number of campaign items to display.","jcore-portti")}),(0,c.jsx)(n.ToggleControl,{label:(0,r.__)("Rotate items","jcore-portti"),checked:d,onChange:t=>e({rotate:t}),help:(0,r.__)("When enabled, items will rotate back to the start when running out of items in the stack.","jcore-portti")})]})]});return a?(0,c.jsxs)("div",{...(0,o.useBlockProps)(),children:[_,(0,c.jsx)(i(),{block:"jco/portal-slot",attributes:t}),(0,c.jsxs)("div",{className:"jcore-portal-slot-fallback-editor",children:[(0,c.jsx)("hr",{}),(0,c.jsx)("p",{style:{fontSize:"11px",opacity:.7,marginBottom:"10px"},children:(0,r.__)("Fallback Content (Shown if no active campaign matches):","jcore-portti")}),(0,c.jsx)(o.InnerBlocks,{})]})]}):(0,c.jsxs)("div",{...(0,o.useBlockProps)(),children:[_,(0,c.jsx)(n.Placeholder,{icon:"share-alt",label:(0,r.__)("Portal Slot","jcore-portti"),instructions:(0,r.__)("Select a portal slot in the sidebar to display campaign content.","jcore-portti")})]})},save:()=>(0,c.jsx)(o.InnerBlocks.Content,{})})})();